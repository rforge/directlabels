
<!-- This is the project specific website template -->
<!-- It can be changed as liked or replaced by other content -->

<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>directlabels</title>
	<link href="estilo1.css" rel="stylesheet" type="text/css" />
  </head>

<body class="normal">

<h1>Easily add direct labels to plots using the directlabels package</h1>

<table>
<tr>
  <td><img src="iris-scatter.png" alt="direct labeled iris data" /></td>
  <td><pre>
install.packages("directlabels")
library(lattice)
library(directlabels)
direct.label(xyplot(jitter(Sepal.Length)~jitter(Petal.Length),iris,groups=Species))
    </pre></td>
  </tr>
</table>

<p>This package is an attempt to make direct labeling a reality in
everyday statistical practice by making available a body of useful
functions that make direct labeling of common plots easy to do with
high-level plotting systems such as lattice and ggplot2. The main
function that the package provides is <tt>direct.label(p)</tt>, which
takes a lattice or ggplot2 plot <tt>p</tt> and adds direct labels.</p>

<p>
directlabels website navigation:
</p>

<ul>
<li><a href="docs/index.html">Positioning Method examples database</a></li>
<li><a href="motivation.html">When are direct labels better than
legends? Why not just add direct labels by hand?</a></li>
<li><a href="examples.html">Several advanced examples</a></li>
<li><a href="smart.html">Smart label Positioning Methods that avoid label collisions</a></li>
</ul>

<h2>New in directlabels 2.x</h2>

<ul>
<li>Direct label positions are re-calculated when the plot window is
resized.</li>
<li>ggplot2 support for smart Positioning Methods that avoid label
collisions.</li>
<li>ggplot2 support for <tt>fontface</tt>, <tt>fontfamily</tt>,
etc. text parameters. See <tt>example(dlcompare)</tt>.</li>
<li>ggplot2 support for direct labeling aesthetics other than
colour. See <tt>example(geom_dl)</tt>.</li>
</ul>

<h2>An extensible framework for thinking about direct labeling
problems</h2>

<p>Direct labeling a plot can be decomposed into 2 steps: calculating
label positions, then drawing the labels. Drawing the labels will
always be taken care of for you, using the color of the corresponding
group. Calculating label positions is also done for you for common
plot types. For example, with the scatterplot above, the default
behavior is to position each label close to the center of the
corresponding point cloud.</p>

<p>If default label positions are not satisfactory, you can always
specify your own label placement method, using the <tt>method=</tt>
argument to <tt>direct.label</tt>. For example, we can label
longitudinal data either on the left or right of the lines:</p>

<pre>
install.packages("ggplot2")
library(ggplot2)
data(BodyWeight,package="nlme")
p &lt;- qplot(Time,weight,data=BodyWeight,colour=Rat,geom="line",facets=.~Diet)
direct.label(p,"<a href="docs/lineplot/posfuns/first.points.html">first.qp</a>")
direct.label(p,"<a href="docs/lineplot/posfuns/last.points.html">last.qp</a>")
</pre>

<p><tt>first.qp</tt> and <tt>last.qp</tt> are the names
of <a href="docs/index.html">Positioning Methods</a> which place the
labels respectively near the first or last points, ensuring that the
labels do not overlap and so are readable.</p>

<img src="rat-ggplot2-firstlast.png" alt="rat data plotted in ggplot2" />

<p>The power of the directlabels system is the fact that you
can <a href="motivation.html">write your own</a> Positioning Methods,
and they can be reused for different plots. So once you write a
Positioning Method that works, adding direct labels in everyday plots
is as simple as calling <tt>direct.label</tt>, no matter if you are
using lattice or ggplot2.</p>

<h2>Talks, links, etc.</h2>

<p>
<a href="http://cbio.ensmp.fr/~thocking/papers/2011-08-16-useR/HOCKING-useR-2011-directlabels-poster.pdf">Adding
direct labels to plots</a>, a poster which attempts to motivate the
package and explain how it works.
Notably,
the "Optimal Labels" section is basically the only documentation of
how to implement
the <a href="http://directlabels.r-forge.r-project.org/docs/utility.function/posfuns/qp.labels.html">qp.labels</a>
Positioning
Method. Awarded <a href="http://www.warwick.ac.uk/statsdept/user-2011/">Best
Student Poster</a> at useR 2011.
</p>

<p><a href="http://www.mnhn.fr/semin-r/">semin-r</a>, 15 oct
2009. "<a href="HOCKING-latticedl-semin-r.pdf">Visualizing
multivariate data using lattice and direct labels</a>"
with <a href="HOCKING-latticedl-semin-r.R">R code examples</a>. Note
that the <tt>latticedl</tt> package used in these slides is obsolete,
so please use the <tt>directlabels</tt> package instead.</p>

<p><a href="http://learnr.wordpress.com/2010/01/03/directlabels-adding-direct-labels-to-ggplot2-and-lattice-plots/">Review
of directlabels on the learnr blog</a>.</p>

<p>The <a href="http://bm2.genes.nig.ac.jp/RGM2/R_current/library/Hmisc/man/labcurve.html">labcurve</a>
function in the Hmisc package provides some similar functionality.</p>

<p>More examples
of <a href="http://rgm2.lab.nig.ac.jp/RGM2/images.php?show=all&amp;query=package%3Adirectlabels">directlabels
on the R Graphical Manual</a>.</p>


<p>Return to
the <a href="http://r-forge.r-project.org/projects/directlabels/"><strong>project
summary page</strong></a>. </p>

<center>
<table>
<tr>

<td>Please send email to <a
href="http://r-forge.r-project.org/sendmessage.php?touser=1571">Toby
Dylan Hocking</a> if you are using directlabels or have ideas to
contribute, thanks!</td>

</tr>
<tr>
<td align="center">
    <a href="http://validator.w3.org/check?uri=referer">validate</a>
</td>
</tr>
</table>

</center>

</body>
</html>
